### THIS FILE IS GENERATED BY setup.rb ###
- name: Set node role
  shell: |
    kubectl label node proxy1 --overwrite=true node-role.kubernetes.io/proxy=''
    kubectl label node proxy1 --overwrite=true role=proxy-node
    kubectl taint node proxy1 --overwrite=true node-role.kubernetes.io/proxy='':NoSchedule
    kubectl label node proxy2 --overwrite=true node-role.kubernetes.io/proxy=''
    kubectl label node proxy2 --overwrite=true role=proxy-node
    kubectl taint node proxy2 --overwrite=true node-role.kubernetes.io/proxy='':NoSchedule
    kubectl label node node1 --overwrite=true node-role.kubernetes.io/worker=''
    kubectl label node node1 --overwrite=true role=worker-node
    kubectl label node node2 --overwrite=true node-role.kubernetes.io/worker=''
    kubectl label node node2 --overwrite=true role=worker-node
    kubectl label node node3 --overwrite=true node-role.kubernetes.io/worker=''
    kubectl label node node3 --overwrite=true role=worker-node
    kubectl label node node4 --overwrite=true node-role.kubernetes.io/worker=''
    kubectl label node node4 --overwrite=true role=worker-node
    kubectl label node storage1 --overwrite=true node-role.kubernetes.io/storage=''
    kubectl label node storage1 --overwrite=true role=storage-node
    kubectl label node storage2 --overwrite=true node-role.kubernetes.io/storage=''
    kubectl label node storage2 --overwrite=true role=storage-node
    kubectl label node storage3 --overwrite=true node-role.kubernetes.io/storage=''
    kubectl label node storage3 --overwrite=true role=storage-node
  args:
    chdir: /home/vagrant
  become: true
  become_user: vagrant
